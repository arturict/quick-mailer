var e=(e,t,n)=>new Promise((r,o)=>{var i=e=>{try{a(n.next(e))}catch(t){o(t)}},l=e=>{try{a(n.throw(e))}catch(t){o(t)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,l);a((n=n.apply(e,t)).next())});const t="/api",n={sendEmail(n){return e(this,null,function*(){const e=yield fetch(`${t}/emails`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok){const t=yield e.json();throw new Error(t.error||"Failed to send email")}return e.json()})},getEmails(n=1,r=50,o){return e(this,null,function*(){const e=new URLSearchParams({page:n.toString(),perPage:r.toString()});(null==o?void 0:o.recipient)&&e.append("recipient",o.recipient),(null==o?void 0:o.subject)&&e.append("subject",o.subject),(null==o?void 0:o.status)&&e.append("status",o.status),(null==o?void 0:o.sender)&&e.append("sender",o.sender),(null==o?void 0:o.dateFrom)&&e.append("dateFrom",o.dateFrom),(null==o?void 0:o.dateTo)&&e.append("dateTo",o.dateTo);const i=yield fetch(`${t}/emails?${e}`);if(!i.ok)throw new Error("Failed to fetch emails");return i.json()})},getEmail(n){return e(this,null,function*(){const e=yield fetch(`${t}/emails/${n}`);if(!e.ok)throw new Error("Failed to fetch email");return e.json()})}},r={createTemplate(n){return e(this,null,function*(){const e=yield fetch(`${t}/templates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok){const t=yield e.json();throw new Error(t.error||"Failed to create template")}return e.json()})},getTemplates(){return e(this,null,function*(){const e=yield fetch(`${t}/templates`);if(!e.ok)throw new Error("Failed to fetch templates");return e.json()})},getTemplate(n){return e(this,null,function*(){const e=yield fetch(`${t}/templates/${n}`);if(!e.ok)throw new Error("Failed to fetch template");return e.json()})},updateTemplate(n,r){return e(this,null,function*(){const e=yield fetch(`${t}/templates/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok){const t=yield e.json();throw new Error(t.error||"Failed to update template")}return e.json()})},deleteTemplate(n){return e(this,null,function*(){const e=yield fetch(`${t}/templates/${n}`,{method:"DELETE"});if(!e.ok)throw new Error("Failed to delete template");return e.json()})}};export{n as e,r as t};
